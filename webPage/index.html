<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>IoT Dashboard</title>
</head>

<body>
    <div class="header">
        <div class="top-head">
            <h2> Smart Home IoT Dashboard </h2>
            <h1> Energy Consumption </h1>
            <div class="dateTime">
                <div id="date">1/7/2016</div>
                <div id="time">05:05</div>
            </div>
        </div>
        <div class="button-div">
            <button id="today-btn">Today</button>
            <button id="ytd-btn">Yesterday</button>
        </div>
    </div>
    
    
    <div class="board">
        <div class="leftBoard">
            <div class="data-box">
                <h3>Temperature</h3>
                <div id="temp-value" class="value">14 C</div>
            </div>
            <div class="data-box">
                <h3>Energy Generated</h3>
                <div id="gen-value" class="value">2 kW</div>
            </div>
            <div class="data-box">
                <h3>Humidity</h3>
                <div id="humid-value" class="value">60 %</div>
            </div>
            <div class="data-box">
                <h3>Energy Comsumed</h3>
                <div id="use-value" class="value">1 kW</div>
            </div>
        </div>
        <div class="rightBoard">
            <div class="data-box">
                <h3>Net Energy</h3>
                <div id="net-value" class="big-value">1 kW</div>
            </div>
        </div>
    </div>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-analytics.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyCieUJHOvKpPm7OT0jgI7uTfzLtC3fCBsM",
          authDomain: "iot-dashboard-66709.firebaseapp.com",
          projectId: "iot-dashboard-66709",
          storageBucket: "iot-dashboard-66709.appspot.com",
          messagingSenderId: "336370107618",
          appId: "1:336370107618:web:536306a4fe5ce6ff80cabb",
          measurementId: "G-X8PN718VWN"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const db = getFirestore(app);

        const tempCol = collection(db, 'temporary');
        getDocs(tempCol).then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
            const data = doc.data();
            console.log(data);
            //const div = document.getElementById("your_div_id");
            //div.innerHTML = JSON.stringify(data);
        });
        })
        .catch((error) => {
        console.error("Error getting documents: ", error);
        });

      </script>
</body>
</html>